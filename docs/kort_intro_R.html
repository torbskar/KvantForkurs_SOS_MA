<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Forkurs for kvantitativ metode - 3&nbsp; En veldig kjapp intro til R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./norlag.html" rel="next">
<link href="./innlesning_data.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Forkurs for kvantitativ metode</span>
    </a>
  </div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">En veldig kjapp intro til R</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Forord</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Del 1: Kom igang</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Installering.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Installere R og Rstudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./innlesning_data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Innlesning av data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./kort_intro_R.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">En veldig kjapp intro til R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./norlag.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Datasettet NorLAG</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./oversikt_datasettet.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">FÃ¥ oversikt over datasettet</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Del 2: Deskriptive teknikker</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./grafikk.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Grafikk med ggplot</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./deskriptive_tabeller.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Deskriptive tabeller</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Del 3: Flere variable pÃ¥ en gang</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linearRegresjon.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Regresjon: Sammenheng mellom variable</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linearRegresjon_kat.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">LineÃ¦r sannsynlighetsmodell</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Del 4: statistisk tolkning</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./grunnleggendeDesign.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Design og tolkning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./statistiskTolkning.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Statistisk tolkning</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">Del 5: Setter det hele sammen</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./praktiskStatistikk.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Statistikk i praksis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">Del 6: Omkoding og datahÃ¥ndtering</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidyverse.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">DatahÃ¥ndtering med <em>Tidyverse</em></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./omkode_factor.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Omkoding av variable</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">Appendices</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./import_metadata.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Import av data fra Sikt - hÃ¥ndtering av formater med metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./createDictionary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Lage dictionary-fil</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#objektorientert" id="toc-objektorientert" class="nav-link active" data-scroll-target="#objektorientert"><span class="toc-section-number">3.1</span>  Objektorientert</a></li>
  <li><a href="#funksjoner" id="toc-funksjoner" class="nav-link" data-scroll-target="#funksjoner"><span class="toc-section-number">3.2</span>  Funksjoner</a></li>
  <li><a href="#r-pakker" id="toc-r-pakker" class="nav-link" data-scroll-target="#r-pakker"><span class="toc-section-number">3.3</span>  R-pakker</a></li>
  <li><a href="#r-dialekter" id="toc-r-dialekter" class="nav-link" data-scroll-target="#r-dialekter"><span class="toc-section-number">3.4</span>  R-dialekter</a></li>
  <li><a href="#tidyverse" id="toc-tidyverse" class="nav-link" data-scroll-target="#tidyverse"><span class="toc-section-number">3.5</span>  Tidyverse</a>
  <ul class="collapse">
  <li><a href="#datahÃ¥ndtering-dplyr" id="toc-datahÃ¥ndtering-dplyr" class="nav-link" data-scroll-target="#datahÃ¥ndtering-dplyr"><span class="toc-section-number">3.5.1</span>  DatahÃ¥ndtering: {dplyr}</a></li>
  <li><a href="#grafikk-ggplot2" id="toc-grafikk-ggplot2" class="nav-link" data-scroll-target="#grafikk-ggplot2"><span class="toc-section-number">3.5.2</span>  Grafikk: {ggplot2}</a></li>
  <li><a href="#import-av-data-haven" id="toc-import-av-data-haven" class="nav-link" data-scroll-target="#import-av-data-haven"><span class="toc-section-number">3.5.3</span>  Import av data: {haven}</a></li>
  <li><a href="#andre-funksjoner" id="toc-andre-funksjoner" class="nav-link" data-scroll-target="#andre-funksjoner"><span class="toc-section-number">3.5.4</span>  Andre funksjoner</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">En veldig kjapp intro til R</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>FÃ¸r vi setter igang trengs det en kort introduksjon til noe grunnleggende om hvordan R fungerer. SÃ¥ lÃ¦rer man mer underveis, og et senere kapittel gÃ¥r grundigere inn i omkoding av variable.</p>
<section id="objektorientert" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="objektorientert"><span class="header-section-number">3.1</span> Objektorientert</h2>
<p>I de innledende kapitlene ble det vist hvordan man leser inn data i R og dataene ble lagt i et âobjektâ. R er bygd opp rundt Ã¥ bruke slike objekter i den forstand at alt man jobber med (typisk: datasett) ligger i objekter.</p>
<p>Du kan tenke pÃ¥ objekter som en boks som det stÃ¥r et navn pÃ¥. Ofte er det bare et datasett oppi boksen, men det kan ogsÃ¥ vÃ¦re flere ting. Det finnes derfor <em>flere typer objekter</em>. Vi skal primÃ¦rt jobbe med datasett, og slike objekter er av typen âdata.frameâ. De kan ogsÃ¥ vÃ¦re av typen âtibbleâ, men det er for alle praktiske formÃ¥l pÃ¥ dette nivÃ¥et akkurat det samme som âdata.frameâ. Men objekter kan ogsÃ¥ inneholde resultater fra analyser, som f.eks. grafikk, tabeller eller regresjonsresultater. Man kan ogsÃ¥ legge enkelttall, vektorer og tekststrenger i objekter.</p>
<p>Noen ganger vil et objekt inneholde flere forskjellige ting. Et eksempel er resultat fra regresjonsmodeller som bÃ¥de vil inneholde koeffisienter, standardfeil, residualer, en del statistikker, men ogsÃ¥ selve datasettet. Men for Ã¥ se pÃ¥ output er det funksjoner som trekker ut akkurat det vi trenger, sÃ¥ du trenger sjelden forholde deg til hvordan et slikt objekt er bygd opp. Men du kan tenke pÃ¥ det som en velorganisert boks med masse mindre rom oppi.</p>
<p>Men poenget er: Alt du jobber med i R er objekter. Alle objekter har et navn som du velger selv. Du kan legge hva som helst i et objekt. Du kan ikke ha to objekter med samme navn, og hvis du lager et objekt med et navn som eksisterer fra fÃ¸r overskriver du det gamle objektet.</p>
</section>
<section id="funksjoner" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="funksjoner"><span class="header-section-number">3.2</span> Funksjoner</h2>
<p>Alt man gjÃ¸r i R gjÃ¸res med âfunksjonerâ, og man bruker funksjonene pÃ¥ objekter eller deler av objekter. Funksjonenen har et navn og etterfulgt av en parentes slik som f.eks. <code>dinfunksjon(...)</code>. Funksjonen starter og slutter med en parentes. Du kan tenke pÃ¥ funksjoner som en liten maskin der du putter noe inn, og sÃ¥ kommer noe annet ut. Det du putter inn skal stÃ¥r inni parentes. Det som kommer ut kan du enten legge i et eget objekt eller la det skrives til output-vinduet.</p>
<p>Det du legger inn i funksjonen - altsÃ¥ inni parentesn - kalles âargumenterâ. Hvert argument har et navn og du skal normalt oppgi i hvert fall hvilket datasett funksjonen skal brukes pÃ¥. Argumentet for data er nettopp <code>data =</code> og sÃ¥ oppgis navnet pÃ¥ det objektet dataene ligger i. En god del slike argumenter har navn som er standardisert pÃ¥ tvers av funksjoner, og <code>data =</code> er et eksempel pÃ¥ dette.</p>
<p>I tillegg kan det vÃ¦re en rekke andre argumenter som vi kommer tilbake til i de ulike funksjonene vi bruker. Et poeng er viktig Ã¥ presisere: argumentene har ogsÃ¥ en forventet <em>rekkefÃ¸lge</em>. Man kan ogsÃ¥ oppgi argumentene uten Ã¥ angi navnet hvis de kommer i riktig rekkefÃ¸lge. For eksempel vil en funksjon for regresjon ha den forventede rekkefÃ¸lgen: 1) Spesifisering av utfallsvariabel og forklaringsvariable pÃ¥ en form som heter âformulaâ, deretter og 2) Angitt objektnavnet til dataene. SÃ¥ kan det vÃ¦re andre argumenter i tillegg. Man kan godt oppgi argumentene i annen rekkefÃ¸lge, men da er man nÃ¸dt til Ã¥ bruke argumentnavnet slik at R forstÃ¥r hva som er hva.</p>
</section>
<section id="r-pakker" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="r-pakker"><span class="header-section-number">3.3</span> R-pakker</h2>
<p>NÃ¥r man installerer R har man svÃ¦rt mye funksjonalitet tilgjengelig uten videre. Dette kalles âbase Râ, altsÃ¥ basic installasjon og funksjonalitet. Men R er i praksis basert pÃ¥ Ã¥ bruke sÃ¥kalte âpakkerâ. Dette er funksjoner som utvider R sin funksjonalitet. SÃ¥ mens âbase Râ tilbyr infrastrukturen, sÃ¥ er de ulike pakkene laget for spesifikke oppgaver.</p>
<p>R-pakker er et helt Ã¸kosystem av funksjonalitet som dekker det aller meste du kan finne pÃ¥ Ã¥ gjÃ¸re, fra bittesmÃ¥ oppgaver, til avansert statistikk og maskinlÃ¦ring, til hele systemer for dataanalyse. Det finnes mange hundre R-pakker tilgjengelig, og disse ligger pÃ¥ en server som heter CRAN. Hvis du vil se pÃ¥ hva som finnes kan du se pÃ¥ <a href="https://cran.r-project.org/web/packages/available_packages_by_name.html">oversikten over tilgjengelige pakker</a>. For nye brukere av R vil dette fremstÃ¥ som ganske kaotisk. Det finnes ogsÃ¥ oversikter der viktigste pakker innenfor ulike typer analyse er gruppert slik at man lettere skal kunne finne frem. Dette kalles <a href="https://cran.r-project.org/index.html">Task Views</a>. Men du trenger ikke forholde deg til slike oversikter pÃ¥ en god stund ennÃ¥. Du fÃ¥r beskjed om hvilke pakker du trenger fortlÃ¸pende, og det er et begrenset antall.</p>
<p>For Ã¥ installere en pakke mÃ¥ du vite hva pakken heter og datamaskinen din mÃ¥ vÃ¦re koblet til internett. Funksjonen <code>install.packages</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"pakkenavn"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Det hender at man fÃ¥r en feilmelding nÃ¥r man prÃ¸ver installere en pakke. Det er noen veldig vanlige grunner til feilmeldinger som skal vÃ¦re rimelig enkle Ã¥ finne ut av selv:</p>
<ol type="1">
<li>Du har stavet navnet pÃ¥ pakken feil. Passe pÃ¥ sÃ¦rlig smÃ¥ og store bokstaver.</li>
<li>Pakken krever at du har noen andre pakker installert fra fÃ¸r. I sÃ¥ fall vil disse pakkenes navn stÃ¥r i feilmeldingen. Installer disse pÃ¥ samme mÃ¥te fÃ¸rst og prÃ¸v igjen.</li>
<li>Noen andre pakker trengs Ã¥ oppdateres for at den nye pakken skal virke. Oppdater alle pakker og prÃ¸v pÃ¥ nytt.</li>
<li>Din R installasjon mÃ¥ oppdateres. Hvis det er lenge siden du installerte R, sÃ¥ installer pÃ¥ nytt og prÃ¸v igjen. Da mÃ¥ alle andre pakker ogsÃ¥ installeres pÃ¥ nytt.</li>
</ol>
<p>NÃ¥r du installerer pakker fÃ¥r du noen ganger spÃ¸rsmÃ¥l om du vil installere âfrom sourceâ. Som hovedregel kan du velge nei. âFrom sourceâ betyr at det finnes en ny versjon som ikke er ferdig kvalitetssjekket pÃ¥ CRAN, men som er tilgjengelig. Du trenger neppe det aller, aller siste av funksjonalitet, sÃ¥ âneiâ holder.</p>
<p>NÃ¥r en pakke er installert pÃ¥ datamaskinen din er disse funksjonalitetene tilgjengelig i R, men ikke helt automatisk. Pakkene ligger i en egen mappe i filstrukturen pÃ¥ datamaskinen og R vet selvsagt hvor dette er. For at pakkene skal vÃ¦re tilgjengelig for deg mÃ¥ du fortelle R at du skal bruke en slik pakke. Vi sier at vi âlaster en pakkeâ (engelsk: âloadâ) og da er disse funksjonene tilgjengelig for deg i hele R-sesjonen. Hvis du restarter R, sÃ¥ mÃ¥ du laste pakkene pÃ¥ nytt fÃ¸r du kan fortsette der du slapp.</p>
<p>Du laster en pakke med funksjonen <code>library</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pakkenavn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hvis en kode ikke fungerer og du fÃ¥r feilmelding kan dette vÃ¦re grunnen: du har glemt Ã¥ laste pakken eller pakken er ikke installert pÃ¥ maskinen din.</p>
<p>En annen grunn til at koden ikke fungerer kan vÃ¦re at det er âkonfliktâ mellom pakker du har lastet. Hvis du bare laster alle pakker du vet du bruker (og noen ekstra som noen pÃ¥ internett har foreslÃ¥tt), sÃ¥ kan det hende at disse pakkene skaper trÃ¸bbel for hverandre. Det er typisk at noen funksjoner har samme navn i ulike pakker, og R bruker da en annen funksjon enn du tror. SÃ¥ da er rÃ¥det: ikke last masse pakker du ikke vet hva er. I det etterfÃ¸lgende introduseres ulike pakker fortlÃ¸pende og du fÃ¥r da vite hva de brukes til. Utvalget av pakker er dessuten slik at det ikke skal vÃ¦re noen slike konflikter. De pakkene vi skal bruke jobber veldig fint sammen. (Se avsnitt nedenfor om dialekter).</p>
<p>Men det er altsÃ¥ et poeng at du mÃ¥ vite hva slags funksjonalitet de ulike pakkene har, og hvilke du faktisk trenger.</p>
</section>
<section id="r-dialekter" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="r-dialekter"><span class="header-section-number">3.4</span> R-dialekter</h2>
<p>De funksjonene som fÃ¸lger med grunnleggende installasjon av R kalles altsÃ¥ âbase Râ eller bare âbaseâ. Dette er grunnstrukturen for programmeringssprÃ¥ket. Man kan gjÃ¸re svÃ¦rt mye analyser med bare bruk av base R, og en god del lÃ¦rebÃ¸ker i statistikk og dataanalyse er lagt opp til hovedsakelig bruk av <em>base</em>.</p>
<p>Noen R-pakker inneholder ikke bare enkeltfunksjoner, men nesten et helt programmeringssprÃ¥k i seg selv. Noen slike pakker er egentlig en hel samling av veldig mange andre pakker som er integrert i hverandre og fungerer sÃ¸mlÃ¸st sammen. Det er lurt Ã¥ holde seg innenfor samme âdialektâ da man ellers kan bli veldig forvirret. I det fÃ¸lgende skal vi holde oss til dialekten âTidyverseâ, som er en dominerende variant i R.</p>
<p>Merk at det finnes altsÃ¥ flere dialekter som er spesialiserte for spesifikke formÃ¥l. Et eksempel er {data.table} som er lynrask for store datasett, {caret} som gir et rammeverk for maskinlÃ¦ring, og {lattice} som er et eget grafikk-system. Det finnes enda flere. Dette gjÃ¸r at det kan vÃ¦re vanskelig Ã¥ sÃ¸ke pÃ¥ nettet etter lÃ¸sninger fordi du kan fÃ¥ svar (som funker!) i en annen dialekt enn den du kan.</p>
</section>
<section id="tidyverse" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="tidyverse"><span class="header-section-number">3.5</span> Tidyverse</h2>
<p>NÃ¥r man laster pakken {tidyverse} laster man egentlig flere pakker som ogsÃ¥ kan lastes individuelt. Merk at âtidyâ betyr jo âryddigâ og hensikten her er et sprÃ¥k som er sÃ¥ ryddig og logisk som mulig. Dette innebÃ¦rer ogsÃ¥ at det er innarbeidet en del prinsipper for datastruktur og datahÃ¥ndtering som hovedarkitekten bak har <a href="https://www.jstatsoft.org/article/view/v059i10">redegjort for i en egen artikkel</a>. Full oversikt over pakkene som inngÃ¥r i <a href="https://www.tidyverse.org/">Tidyverse finner du pÃ¥ deres hjemmeside</a>. Men du trenger ikke sette deg inn i alt det for Ã¥ bruke softwaren.</p>
<section id="datahÃ¥ndtering-dplyr" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="datahÃ¥ndtering-dplyr"><span class="header-section-number">3.5.1</span> DatahÃ¥ndtering: {dplyr}</h3>
<p>Grunnleggende datahÃ¥ndtering inkluderer fÃ¸rst og fremst Ã¥ <em>endre variable</em> ved omkoding, utregninger eller transformasjoner. Pakken {dplyr} inneholder de nÃ¸dvendige verktÃ¸y for dette.</p>
<p>De grunnleggende funksjonene vi bruker kan ordnes sekvensielt og bindes sammen med en âpipeâ. Norsk oversettelse vil vÃ¦re ârÃ¸rleggingâ. Dette er litt rart og uvant, men i fÃ¸rste omgang kan du se for deg at det er en flyt av data fra venstre side mot hÃ¸yre side. Du kan altsÃ¥ gjÃ¸re noe med data og âderetter gjÃ¸reâ noe mer med de dataene du har endret. Vi kommer tilbake til dette nedenfor.</p>
<p>Vi skal bruke et bittelite datasett for Ã¥ demonstrere. Det er seks observasjoner og to variable. Observasjonene tilhÃ¸rer gruppe a, b, eller c, og variabelen âvarAâ har en tallverdi. Dataene ser ut som fÃ¸lger:</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>ââ Attaching core tidyverse packages ââââââââââââââââââââââââ tidyverse 2.0.0 ââ
â dplyr     1.1.1     â readr     2.1.4
â forcats   1.0.0     â stringr   1.5.0
â ggplot2   3.4.1     â tibble    3.2.1
â lubridate 1.9.2     â tidyr     1.3.0
â purrr     1.0.1     
ââ Conflicts ââââââââââââââââââââââââââââââââââââââââââ tidyverse_conflicts() ââ
â dplyr::filter() masks stats::filter()
â dplyr::lag()    masks stats::lag()
â¹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dinedata</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gruppe varA
1      a    3
2      b    5
3      b    2
4      a    4
5      c    3
6      c    7</code></pre>
</div>
</div>
<section id="grunnleggende-verb" class="level4" data-number="3.5.1.1">
<h4 data-number="3.5.1.1" class="anchored" data-anchor-id="grunnleggende-verb"><span class="header-section-number">3.5.1.1</span> Grunnleggende verb</h4>
<p>For Ã¥ endre variable brukes funksjonen <code>mutate</code>, som har to argumenter: hvilket datasett som skal endres pÃ¥, og spesifikasjon av gitte variable.</p>
<p>Syntaksen er slik at man <em>starter</em> med Ã¥ angi objektnavnet med dataene, men her skal det <em>ikke</em> skrives <code>data =</code> av grunner vi kommer tilbake til straks. Deretter skriver man navnet pÃ¥ ny variabel âerlikâ utregning av ny verdi. I det fÃ¸lgende lages en ny variabel âvarBâ som er <em>2 ganger varA</em>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(dinedata, <span class="at">varB =</span> <span class="dv">2</span><span class="sc">*</span>varA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gruppe varA varB
1      a    3    6
2      b    5   10
3      b    2    4
4      a    4    8
5      c    3    6
6      c    7   14</code></pre>
</div>
</div>
<p>Man kan ogsÃ¥ overskrive en eksisterende variabel pÃ¥ samme mÃ¥te.</p>
<p>Vi kan ogsÃ¥ velge bort variable med <code>select</code>. Merk at det som ble gjort med <code>mutate</code> ovenfor ikke er lagt i et nytt objekt, sÃ¥ det er bare printet til konsollen. Objektet âdinedataâ er altsÃ¥ <em>ikke</em> endret. I fÃ¸lgende kode bruker vi <code>select</code> til velge Ã¥ bare beholde âvarAâ.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(dinedata, varA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  varA
1    3
2    5
3    2
4    4
5    3
6    7</code></pre>
</div>
</div>
<p>Vi kan slette variable ved Ã¥ sette minustegn foran variabelnavnet som fÃ¸lger:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(dinedata, <span class="sc">-</span>varA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gruppe
1      a
2      b
3      b
4      a
5      c
6      c</code></pre>
</div>
</div>
</section>
<section id="pipe-med-magrittr" class="level4" data-number="3.5.1.2">
<h4 data-number="3.5.1.2" class="anchored" data-anchor-id="pipe-med-magrittr"><span class="header-section-number">3.5.1.2</span> Pipe %&gt;% med {magrittr}</h4>
<p>Vi bruker en âpipeâ for Ã¥ fÃ¥ lettere lesbare koder og slippe Ã¥ lage mange nye objekter hele tiden. Vi kan binde sammen flere verb i en arbeidsflyt der man kun angir objektnavnet Ã©n gang.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>dinedata <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">varB =</span> <span class="dv">2</span><span class="sc">*</span>varA) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>varA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gruppe varB
1      a    6
2      b   10
3      b    4
4      a    8
5      c    6
6      c   14</code></pre>
</div>
</div>
<p>Operatoren <code>%&gt;%</code> betyr âgjÃ¸r deretterâ. Kode ovenfor kan dermed skrives i klartekst som fÃ¸lger:</p>
<ol type="1">
<li>start med datasettet <em>dinedata</em> og âgjÃ¸r deretter:â</li>
<li>lag en ny variabel med navn <em>varB</em> som er 2 ganger verdien av variabelen varA, og âgjÃ¸r deretter:</li>
<li>slett variabel varA</li>
</ol>
<p>Hvis vi vil legge resultatet i et nytt objekt for Ã¥ bruke det videre (og det vil vi nesten alltid!) sÃ¥ spesifiseres det med Ã¥ sette <code>nyttobjekt &lt;-</code> helt fÃ¸rst som fÃ¸lger:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>dinedata2 <span class="ot">&lt;-</span> dinedata <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">varB =</span> <span class="dv">2</span><span class="sc">*</span>varA) <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>varA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="logiske-operatorer" class="level4" data-number="3.5.1.3">
<h4 data-number="3.5.1.3" class="anchored" data-anchor-id="logiske-operatorer"><span class="header-section-number">3.5.1.3</span> Logiske operatorer</h4>
<p>I mange sammenhenger setter man <em>hvis</em>-krav. F.eks. at man skal gi en ny variabel en verdi <em>hvis</em> en annen variabel har en bestemt verdig - og en annen verdi hvis ikke. Det kan ogsÃ¥ gjelde kombinasjoner av variable og verdier. Slike krav er da enten <code>TRUE</code> eller <code>FALSE</code>.</p>
<p>Her er grunnleggende logiske operatorer.</p>
<table class="table">
<thead>
<tr class="header">
<th>Uttrykk</th>
<th>Kode</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>er lik</td>
<td><code>==</code></td>
</tr>
<tr class="even">
<td>er ikke lik</td>
<td><code>!=</code></td>
</tr>
<tr class="odd">
<td>og</td>
<td><code>&amp;</code></td>
</tr>
<tr class="even">
<td>eller</td>
<td><code>|</code></td>
</tr>
<tr class="odd">
<td>stÃ¸rre/mindre enn</td>
<td><code>&gt;</code> eller <code>&lt;</code></td>
</tr>
<tr class="even">
<td>stÃ¸rre/mindre enn eller er lik</td>
<td><code>&lt;=</code> eller <code>&gt;=</code></td>
</tr>
</tbody>
</table>
<p>For Ã¥ kode om kategoriske variable trenger vi disse. La oss bruke <code>mutate</code> til Ã¥ gruppere sammen gruppene âaâ og âbâ ved Ã¥ gjÃ¸re om alle âaâ til âbâ. Da bruker vi funksjonen <code>ifelse</code> som har syntaksen: <code>ifelse(krav, verdi hvis TRUE, verdi hvis FALSE)</code>. AltsÃ¥: fÃ¸rst kravet, og alle observasjoner som fyller dette kravet fÃ¥r en verdi, mens alle andre fÃ¥r en annen verdi. Her er en kode som sjekker hvem som er i gruppe âaâ, og gjÃ¸r alle disse om til âbâ, og resten beholder verdiene fra variabelen âgruppeâ.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>dinedata <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gruppe2 =</span> <span class="fu">ifelse</span>(gruppe <span class="sc">==</span> <span class="st">"a"</span>, <span class="st">"b"</span>, gruppe))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gruppe varA gruppe2
1      a    3       b
2      b    5       b
3      b    2       b
4      a    4       b
5      c    3       c
6      c    7       c</code></pre>
</div>
</div>
<p>Logiske krav kan ogsÃ¥ kombineres med <code>&amp;</code> og <code>|</code> og ogsÃ¥ med parenteser for mer kompliserte krav. Her er et eksempel som omkoder basert pÃ¥ verdier pÃ¥ to variable for Ã¥ lage en tredje variabel:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>dinedata <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gruppe2 =</span> <span class="fu">ifelse</span>(gruppe <span class="sc">==</span> <span class="st">"a"</span> <span class="sc">&amp;</span> varA <span class="sc">&lt;</span> <span class="dv">5</span>, <span class="st">"a5"</span>, <span class="st">"andre"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gruppe varA gruppe2
1      a    3      a5
2      b    5   andre
3      b    2   andre
4      a    4      a5
5      c    3   andre
6      c    7   andre</code></pre>
</div>
</div>
</section>
<section id="flere-verb" class="level4" data-number="3.5.1.4">
<h4 data-number="3.5.1.4" class="anchored" data-anchor-id="flere-verb"><span class="header-section-number">3.5.1.4</span> Flere verb</h4>
<p>Logiske operatorer brukes ogsÃ¥ til Ã¥ filtrere dataene, altsÃ¥ Ã¥ beholde eller slette rader som oppfyller visse krav. Her er en kode som beholder alle observasjoner om <em>ikke</em> tilhÃ¸rer gruppe âaâ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>dinedata <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gruppe <span class="sc">!=</span> <span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gruppe varA
1      b    5
2      b    2
3      c    3
4      c    7</code></pre>
</div>
</div>
<p><code>summarise</code> aggregerer</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>dinedata <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">totalt =</span> <span class="fu">sum</span>(varA), <span class="at">standardavvik =</span> <span class="fu">sd</span>(varA))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  totalt standardavvik
1     24      1.788854</code></pre>
</div>
</div>
<p><code>group_by</code> grupperer data slik at hvis vi kan gÃ¥ grupperte verdier med <code>mutate</code> og <code>summarise</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>dinedata <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(gruppe) <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">totalt =</span> <span class="fu">sum</span>(varA), <span class="at">standardavvik =</span> <span class="fu">sd</span>(varA))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã 3
  gruppe totalt standardavvik
  &lt;chr&gt;   &lt;dbl&gt;         &lt;dbl&gt;
1 a           7         0.707
2 b           7         2.12 
3 c          10         2.83 </code></pre>
</div>
</div>
</section>
</section>
<section id="grafikk-ggplot2" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="grafikk-ggplot2"><span class="header-section-number">3.5.2</span> Grafikk: {ggplot2}</h3>
</section>
<section id="import-av-data-haven" class="level3" data-number="3.5.3">
<h3 data-number="3.5.3" class="anchored" data-anchor-id="import-av-data-haven"><span class="header-section-number">3.5.3</span> Import av data: {haven}</h3>
</section>
<section id="andre-funksjoner" class="level3" data-number="3.5.4">
<h3 data-number="3.5.4" class="anchored" data-anchor-id="andre-funksjoner"><span class="header-section-number">3.5.4</span> Andre funksjoner</h3>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./innlesning_data.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Innlesning av data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./norlag.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Datasettet NorLAG</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>